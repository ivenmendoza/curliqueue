<style>
  h3 {
    margin-top: -5px;
  }
  .form-container {
    background-color: #0a66c2;
    color: white;
    max-width: 600px;
    border-radius: 5px;
    padding: 15px;
    font-family: monospace;
  }
  .result-container {
    color: white;
    background-color: #0a66c2;
    padding: 15px;
    border-radius: 5px;
    max-width: 600px;
    word-break: break-all;
    font-family: monospace;
  }
  .textbox {
    width: 59%;
    padding: 5px;
  }
  .textarea {
    width: 90%;
    padding: 15px;
  }
  .button {
    font-family: monospace;
  }
  .dropdown {
    font-family: monospace;
  }
</style>

  <form id="curliForm" class="form-container">

  <div>
    <label for="curliCall">LMS Curli</label>
    <select id="curliCall" class="dropdown">
      <option selected value="AID">Ad Account Info</option>
      <option value="CAMPAIGN">Campaign Info</option>
      <option value="CGROUP">Campaign Group Info</option>
      <option value="CREATIVE">Creative Info</option>
      <option value="Segment">Segment Info</option>
    </select>
  </div>
  <br>

  <label for="input">Input:</label>
  <input type="text" id="input" required class="textbox">
  <br><br>

  <button type="submit" id="generateCurliCall" class="button">Generate URL</button>
</form><br>


<div class="result-container">
  <h3>Generated Curli Call:</h3>
  <textarea rows=8 class="textarea" id="generatedCurliCall"></textarea>
  <br><br>

  <button id="copyCurliBtn" class="button">Copy to clipboard</button>
  <button id="clearForm" class="button">Reset</button>
</div>

<script>
  const curliForm = document.getElementById("curliForm")
  const generateButton = document.getElementById("generateCurliCall")
  const copy = document.getElementById('copyCurliBtn');
  
  const curliCallSelection = document.getElementById("curliCall")
  const output = document.getElementById("generatedCurliCall")
  const reset = document.getElementById('clearForm');

  curliForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const input = document.getElementById('input').value;
    
      
      if (curliCallSelection.value == "AID") {
        output.innerHTML = `curli -H 'Authenticate: X-RestLI SUPERUSER:urn:li:system:0' "d2://adAccountsV2/${input}" -X GET --fabric prod-ltx1 --dv-auth group:PTO_LMSTIER2`;
        console.log(input);
      }
    })

  copy.addEventListener('click', () => {
    output.select();
    output.setSelectionRange(0,99999)

    document.execCommand("copy")

    alert("Curli Copied")
  })

  reset.addEventListener('click', () => {
    curliForm.reset()
    output.innerHTML = ''
  })

  </script>

